<!DOCTYPE html>
<html lang="en">
  

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>pyaerocom jupyter notebook</title>
  <meta name="description" content="        Model evaluation using pyaerocom After this introduction, you will know how to:Search for model and observation data in the provided databaseRead mod...">

  <link rel="canonical" href="http://nordicesmhub.github.io/NEGI-Abisko-2019/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom.html">
  <link rel="alternate" type="application/rss+xml" title="eScience for linking Arctic measurements and modeling" href="http://nordicesmhub.github.io/NEGI-Abisko-2019/feed.xml">

  <meta property="og:url"         content="http://nordicesmhub.github.io/NEGI-Abisko-2019/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="pyaerocom jupyter notebook" />
<meta property="og:description" content="        Model evaluation using pyaerocom After this introduction, you will know how to:Search for model and observation data in the provided databaseRead mod..." />
<meta property="og:image"       content="http://nordicesmhub.github.io/NEGI-Abisko-2019/images/logo/zeppelin.png" />

<meta name="twitter:card" content="summary">


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "http://nordicesmhub.github.io/NEGI-Abisko-2019/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom.html",
  "headline": "pyaerocom jupyter notebook",
  "datePublished": "2019-10-18T18:34:23+00:00",
  "dateModified": "2019-10-18T18:34:23+00:00",
  "description": "        Model evaluation using pyaerocom After this introduction, you will know how to:Search for model and observation data in the provided databaseRead mod...",
  "author": {
    "@type": "Person",
    "name": "Anne Fouilloux"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "http://nordicesmhub.github.io/NEGI-Abisko-2019",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://nordicesmhub.github.io/NEGI-Abisko-2019",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/NEGI-Abisko-2019/assets/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css ">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/NEGI-Abisko-2019/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<!-- (mostly) copied from nbconvert configuration -->
<!-- https://github.com/jupyter/nbconvert/blob/master/nbconvert/templates/html/mathjax.tpl -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true },
    }
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML' async></script>

  <!-- DOM updating function -->
  <script>
const runWhenDOMLoaded = cb => {
  if (document.readyState != 'loading') {
    cb()
  } else if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', cb)
  } else {
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState == 'complete') cb()
    })
  }
}

// Helper function to init things quickly
initFunction = function(myfunc) {
  runWhenDOMLoaded(myfunc);
  document.addEventListener('turbolinks:load', myfunc);
};
</script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/NEGI-Abisko-2019';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js" async></script>
  <script>
const initAnchors = () => {
  if (window.anchors === undefined) {
    setTimeout(initAnchors, 250)
    return
  }
  anchors.add("main h1, main h2, main h3, main h4")
}

initFunction(initAnchors);
</script>


  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Selectors for elements on the page -->
  <script>
/**
 * Select various elements on the page for later use
 */

// IDs we'll attach to cells
const codeCellId = index => `codecell${index}`
const inputCellId = index => `inputcell${index}`

pageElements = {}

// All code cells
findCodeCells = function() {
    var codeCells = document.querySelectorAll('div.c-textbook__content > div.highlighter-rouge > div.highlight > pre, div.input_area pre, div.text_cell_render div.highlight pre')
    pageElements['codeCells'] = codeCells;

    codeCells.forEach((codeCell, index) => {
      const id = codeCellId(index)
      codeCell.setAttribute('id', id)
    })
};

initFunction(findCodeCells);

// All cells in general
findInputCells = function() {
    var inputCells = document.querySelectorAll('div.jb_cell')
    pageElements['inputCells'] = inputCells;

    inputCells.forEach((inputCell, index) => {
        const id = inputCellId(index)
        inputCell.setAttribute('id', id)
    })
};

initFunction(findInputCells);
</script>

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->


<!-- Display Thebelab button in each code cell -->
<script>
/**
 * Set up thebelab button for code blocks
 */

const thebelabCellButton = id =>
  `<a id="thebelab-cell-button-${id}" class="btn thebebtn o-tooltip--left" data-tooltip="Interactive Mode">
    <img src="/NEGI-Abisko-2019/assets/images/edit-button.svg" alt="Start interactive mode">
  </a>`


const addThebelabButtonToCodeCells =  () => {

  const codeCells = document.querySelectorAll('div.input_area > div.highlight:not(.output) pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.getElementById("thebelab-cell-button-" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', thebelabCellButton(id));
    }
  })
}

initFunction(addThebelabButtonToCodeCells);
</script>



<script type="text/x-thebe-config">
    {
      requestKernel: true,
      binderOptions: {
        repo: 'NordicESMHub/NEGI-Abisko-2019',
        ref: 'master',
      },
      codeMirrorConfig: {
        theme: "abcdef"
      },
      kernelOptions: {
        name: 'python3',
      }
    }
</script>
<script src="https://unpkg.com/thebelab@0.4.0/lib/index.js" async></script>
<script>
    /**
     * Add attributes to Thebelab blocks
     */

    const initThebelab = () => {
        const addThebelabToCodeCells = () => {
            console.log("Adding thebelab to code cells...");
            // If Thebelab hasn't loaded, wait a bit and try again. This
            // happens because we load ClipboardJS asynchronously.
            if (window.thebelab === undefined) {
                setTimeout(addThebelabToCodeCells, 250)
            return
            }

            // If we already detect a Thebelab cell, don't re-run
            if (document.querySelectorAll('div.thebelab-cell').length > 0) {
                return;
            }

            // Find all code cells, replace with Thebelab interactive code cells
            const codeCells = document.querySelectorAll('.input_area pre')
            codeCells.forEach((codeCell, index) => {
                const id = codeCellId(index)
                codeCell.setAttribute('data-executable', 'true')

                // Figure out the language it uses and add this too
                var parentDiv = codeCell.parentElement.parentElement;
                var arrayLength = parentDiv.classList.length;
                for (var ii = 0; ii < arrayLength; ii++) {
                    var parts = parentDiv.classList[ii].split('language-');
                    if (parts.length === 2) {
                        // If found, assign dataLanguage and break the loop
                        var dataLanguage = parts[1];
                        break;
                    }
                }
                codeCell.setAttribute('data-language', dataLanguage)

                // If the code cell is hidden, show it
                var inputCheckbox = document.querySelector(`input#hidebtn${codeCell.id}`);
                if (inputCheckbox !== null) {
                    setCodeCellVisibility(inputCheckbox, 'visible');
                }
            });

            // Remove the event listener from the page so keyboard press doesn't
            // Change page
            document.removeEventListener('keydown', initPageNav)
            keyboardListener = false;

            // Init thebelab
            thebelab.bootstrap();

            // Remove copy buttons since they won't work anymore
            const copyAndThebeButtons = document.querySelectorAll('.copybtn, .thebebtn')
            copyAndThebeButtons.forEach((button, index) => {
                button.remove();
            });

            // Remove outputs since they'll be stale
            const outputs = document.querySelectorAll('.output *, .output')
            outputs.forEach((output, index) => {
                output.remove();
            });
        }

        // Add event listener for the function to modify code cells
        const thebelabButtons = document.querySelectorAll('[id^=thebelab], [id$=thebelab]')
        thebelabButtons.forEach((thebelabButton,index) => {
            if (thebelabButton === null) {
                setTimeout(initThebelab, 250)
                return
            };
            thebelabButton.addEventListener('click', addThebelabToCodeCells);
        });
    }

    // Initialize Thebelab
    initFunction(initThebelab);
</script>



  <!-- Load the auto-generating TOC -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js" async></script>
<script>
const initToc = () => {
  if (window.tocbot === undefined) {
    setTimeout(initToc, 250)
    return
  }

  // Check whether we have any sidebar content. If not, then show the sidebar earlier.
  var SIDEBAR_CONTENT_TAGS = ['.tag_full_width', '.tag_popout'];
  var sidebar_content_query = SIDEBAR_CONTENT_TAGS.join(', ')
  if (document.querySelectorAll(sidebar_content_query).length === 0) {
    document.querySelector('nav.onthispage').classList.add('no_sidebar_content')
  }

  // Initialize the TOC bot
  tocbot.init({
    tocSelector: 'nav.onthispage',
    contentSelector: '.c-textbook__content',
    headingSelector: 'h2, h3',
    orderedList: false,
    collapseDepth: 6,
    listClass: 'toc__menu',
    activeListItemClass: "",  // Not using
    activeLinkClass: "", // Not using
  });

}
initFunction(initToc);
</script>


  <!-- Google analytics -->
  <script src="/NEGI-Abisko-2019/assets/js/ga.js" async></script>

  <!-- Clipboard copy button -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script>

  <!-- Load custom website scripts -->
  <script src="/NEGI-Abisko-2019/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/NEGI-Abisko-2019/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/NEGI-Abisko-2019/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  
<script>
/**
  * To auto-embed hub URLs in interact links if given in a RESTful fashion
 */

function getJsonFromUrl(url) {
  var query = url.split('?');
  if (query.length < 2) {
    // No queries so just return false
    return false;
  }
  query = query[1];
  // Collect REST params into a dictionary
  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  });
  return result;
}
    
function dict2param(dict) {
    params = Object.keys(dict).map(function(k) {
        return encodeURIComponent(k) + '=' + encodeURIComponent(dict[k])
    });
    return params.join('&')
}

// Parse a Binder URL, converting it to the string needed for JupyterHub
function binder2Jupyterhub(url) {
  newUrl = {};
  parts = url.split('v2/gh/')[1];
  // Grab the base repo information
  repoinfo = parts.split('?')[0];
  var [org, repo, ref] = repoinfo.split('/');
  newUrl['repo'] = ['https://github.com', org, repo].join('/');
  newUrl['branch'] = ref
  // Grab extra parameters passed
  params = getJsonFromUrl(url);
  if (params['filepath'] !== undefined) {
    newUrl['subPath'] = params['filepath']
  }
  return dict2param(newUrl);
}

// Filter out potentially unsafe characters to prevent xss
function safeUrl(url)
{
   return String(encodeURIComponent(url))
            .replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
}

function addParamToInternalLinks(hub) {
  var links = document.querySelectorAll("a").forEach(function(link) {
    var href = link.href;
    // If the link is an internal link...
    if (href.search("http://nordicesmhub.github.io") !== -1 || href.startsWith('/') || href.search("127.0.0.1:") !== -1) {
      // Assume we're an internal link, add the hub param to it
      var params = getJsonFromUrl(href);
      if (params !== false) {
        // We have REST params, so append a new one
        params['jupyterhub'] = hub;
      } else {
        // Create the REST params
        params = {'jupyterhub': hub};
      }
      // Update the link
      var newHref = href.split('?')[0] + '?' + dict2param(params);
      link.setAttribute('href', decodeURIComponent(newHref));
    }
  });
  return false;
}


// Update interact links
function updateInteractLink() {
    // hack to make this work since it expects a ? in the URL
    rest = getJsonFromUrl("?" + location.search.substr(1));
    jupyterHubUrl = rest['jupyterhub'];
    var hubType = null;
    var hubUrl = null;
    if (jupyterHubUrl !== undefined) {
      hubType = 'jupyterhub';
      hubUrl = jupyterHubUrl;
    }

    if (hubType !== null) {
      // Sanitize the hubUrl
      hubUrl = safeUrl(hubUrl);

      // Add HTTP text if omitted
      if (hubUrl.indexOf('http') < 0) {hubUrl = 'http://' + hubUrl;}
      var interactButtons = document.querySelectorAll("button.interact-button")
      var lastButton = interactButtons[interactButtons.length-1];
      var link = lastButton.parentElement;

      // If we've already run this, skip the link updating
      if (link.nextElementSibling !== null) {
        return;
      }

      // Update the link and add context div
      var href = link.getAttribute('href');
      if (lastButton.id === 'interact-button-binder') {
        // If binder links exist, we need to re-work them for jupyterhub
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // If localhost, assume we're working from a local Jupyter server and remove `/hub`
          first = [hubUrl, 'git-sync'].join('/')
        } else {
          first = [hubUrl, 'hub', 'user-redirect', 'git-sync'].join('/')
        }
        href = first + '?' + binder2Jupyterhub(href);
      } else {
        // If interact button isn't binderhub, assume it's jupyterhub
        // If JupyterHub links, we only need to replace the hub url
        href = href.replace("http://abisko.uiogeo-apps.sigma2.no", hubUrl);
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // Assume we're working from a local Jupyter server and remove `/hub`
          href = href.replace("/hub/user-redirect", "");
        }
      }
      link.setAttribute('href', decodeURIComponent(href));

      // Add text after interact link saying where we're launching
      hubUrlNoHttp = decodeURIComponent(hubUrl).replace('http://', '').replace('https://', '');
      link.insertAdjacentHTML('afterend', '<div class="interact-context">on ' + hubUrlNoHttp + '</div>');

      // Update internal links so we retain the hub url
      addParamToInternalLinks(hubUrl);
    }
}

runWhenDOMLoaded(updateInteractLink)
document.addEventListener('turbolinks:load', updateInteractLink)
</script>


  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" async></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>

  <!-- Load JS that depends on site variables -->
  <script>
/**
 * Set up copy/paste for code blocks
 */
const clipboardButton = id =>
  `<a id="copy-button-${id}" class="btn copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#${id}">
    <img src="/NEGI-Abisko-2019/assets/images/copy-button.svg" alt="Copy to clipboard">
  </a>`

// Clears selected text since ClipboardJS will select the text when copying
const clearSelection = () => {
  if (window.getSelection) {
    window.getSelection().removeAllRanges()
  } else if (document.selection) {
    document.selection.empty()
  }
}

// Changes tooltip text for two seconds, then changes it back
const temporarilyChangeTooltip = (el, newText) => {
  const oldText = el.getAttribute('data-tooltip')
  el.setAttribute('data-tooltip', newText)
  setTimeout(() => el.setAttribute('data-tooltip', oldText), 2000)
}

const addCopyButtonToCodeCells = () => {
  // If ClipboardJS hasn't loaded, wait a bit and try again. This
  // happens because we load ClipboardJS asynchronously.
  if (window.ClipboardJS === undefined) {
    setTimeout(addCopyButtonToCodeCells, 250)
    return
  }

  pageElements['codeCells'].forEach((codeCell) => {
    const id = codeCell.getAttribute('id')
    if (document.getElementById("copy-button" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', clipboardButton(id));
    }
  })

  const clipboard = new ClipboardJS('.copybtn')
  clipboard.on('success', event => {
    clearSelection()
    temporarilyChangeTooltip(event.trigger, 'Copied!')
  })

  clipboard.on('error', event => {
    temporarilyChangeTooltip(event.trigger, 'Failed to copy')
  })

  // Get rid of clipboard before the next page visit to avoid memory leak
  document.addEventListener('turbolinks:before-visit', () =>
    clipboard.destroy()
  )
}

initFunction(addCopyButtonToCodeCells);
</script>


  <!-- Hide cell code -->
  <script>
    /**
    Add buttons to hide code cells
    */


    var setCodeCellVisibility = function (inputField, kind) {
        // Update the image and class for hidden
        var id = inputField.getAttribute('data-id');
        var codeCell = document.querySelector(`#${id} div.highlight`);

        if (kind === "visible") {
            codeCell.classList.remove('hidden');
            inputField.checked = true;
        } else {
            codeCell.classList.add('hidden');
            inputField.checked = false;
        }
    }

    var toggleCodeCellVisibility = function (event) {
        // The label is clicked, and now we decide what to do based on the input field's clicked status
        if (event.target.tagName === "LABEL") {
            var inputField = event.target.previousElementSibling;
        } else {
            // It is the span inside the target
            var inputField = event.target.parentElement.previousElementSibling;
        }

        if (inputField.checked === true) {
            setCodeCellVisibility(inputField, "visible");
        } else {
            setCodeCellVisibility(inputField, "hidden");
        }
    }


    // Button constructor
    const hideCodeButton = id => `<input class="hidebtn" type="checkbox" id="hidebtn${id}" data-id="${id}"><label title="Toggle cell" for="hidebtn${id}" class="plusminus"><span class="pm_h"></span><span class="pm_v"></span></label>`

    var addHideButton = function () {
        // If a hide button is already added, don't add another
        if (document.querySelector('div.tag_hide_input input') !== null) {
            return;
        }

        // Find the input cells and add a hide button
        pageElements['inputCells'].forEach(function (inputCell) {
            if (!inputCell.classList.contains("tag_hide_input")) {
                // Skip the cell if it doesn't have a hidecode class
                return;
            }

            const id = inputCell.getAttribute('id')

            // Insert the button just inside the end of the next div
            inputCell.querySelector('div.input').insertAdjacentHTML('beforeend', hideCodeButton(id))

            // Set up the visibility toggle
            hideLink = document.querySelector(`#${id} div.inner_cell + input + label`);
            hideLink.addEventListener('click', toggleCodeCellVisibility)
        });
    }


    // Initialize the hide buttos
    var initHiddenCells = function () {
        // Add hide buttons to the cells
        addHideButton();

        // Toggle the code cells that should be hidden
        document.querySelectorAll('div.tag_hide_input input').forEach(function (item) {
            setCodeCellVisibility(item, 'hidden');
            item.checked = true;
        })
    }

    initFunction(initHiddenCells);

</script>

  <!-- Printing the screen -->
  <!-- Include nbinteract for interactive widgets -->
<script src="https://printjs-4de6.kxcdn.com/print.min.js" async></script>
<script>
printContent = () => {
    // MathJax displays a second version of any math for assistive devices etc.
    // This prevents double-rendering in the PDF output.
    var ignoreAssistList = [];
    assistives = document.querySelectorAll('.MathJax_Display span.MJX_Assistive_MathML').forEach((element, index) => {
        var thisId = 'MathJax-assistive-' + index.toString();
        element.setAttribute('id', thisId);
        ignoreAssistList.push(thisId)
    });

    // Print the actual content object
    printJS({
        printable: 'textbook_content',
        type: 'html',
        css: "/NEGI-Abisko-2019/assets/css/styles.css",
        scanStyles: false,
        targetStyles: ["*"],
        ignoreElements: ignoreAssistList
    })
};

initPrint = () => {
    document.querySelector('#interact-button-print').addEventListener('click', printContent)
}

initFunction(initPrint)
</script>

</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://www.aces.su.se/research/projects/course-series-on-climate-science-at-high-latitudes/"><img src="/NEGI-Abisko-2019/images/logo/zeppelin.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">eScience for linking Arctic measurements and modeling</h2>
  <ul class="c-sidebar__chapters">
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/intro.html"
        >
          
          Home
        </a>

        
      </li>

      
    
      
      
        <li><h2 class="c-sidebar__title">Course program</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/topics/topics.html"
        >
          
            1.
          
          Themes and group topics
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/topics/group-1/intro.html"
                >
                  
                    1.1
                  
                  Group-1
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-1/libe05_test.html"
                    >
                      
                        1.1.1
                        
                      
                      libe05 project
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-1/Luis-s21_Project.html"
                    >
                      
                        1.1.2
                        
                      
                      Luis-s21 project
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-1/slijeci_project.html"
                    >
                      
                        1.1.3
                        
                      
                      Slijeci project
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-1/tuulivarenka_zeppelin2010_2015_particleplot.html"
                    >
                      
                        1.1.4
                        
                      
                      Tuulivarenka project
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/topics/group-2/intro.html"
                >
                  
                    1.2
                  
                  Group-2
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-2/aod_div.html"
                    >
                      
                        1.2.1
                        
                      
                      AOD div
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-2/lassekva.html"
                    >
                      
                        1.2.2
                        
                      
                      lassekva Project
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-2/franzihe_area_averaged_AOD_Svalbard.html"
                    >
                      
                        1.2.3
                        
                      
                      franzihe area averaged AOD Svalbard
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-2/marekrataj_read_data.html"
                    >
                      
                        1.2.4
                        
                      
                      Marekrataj read data
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-2/sofiemt_dmp.html"
                    >
                      
                        1.2.5
                        
                      
                      Sofiemt DMP
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/topics/group-3/intro.html"
                >
                  
                    1.3
                  
                  Group-3
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-3/data-to-use.html"
                    >
                      
                        1.3.1
                        
                      
                      Data to use
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-3/DeleteMaria.html"
                    >
                      
                        1.3.2
                        
                      
                      Maria's project
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-3/stinsage_temperature.html"
                    >
                      
                        1.3.3
                        
                      
                      Stinsage temperature
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-3/aod_johan.html"
                    >
                      
                        1.3.4
                        
                      
                      AOD johan
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/topics/group-4/intro.html"
                >
                  
                    1.4
                  
                  Group-4
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/dinastabell_DMP.html"
                    >
                      
                        1.4.1
                        
                      
                      Dinastabell DMP
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/olga_firus_test.html"
                    >
                      
                        1.4.2
                        
                      
                      Olga firus test
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/dominichr1_test.html"
                    >
                      
                        1.4.3
                        
                      
                      Dominichr1 Test
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/sigridjb_topic_presentation.html"
                    >
                      
                        1.4.4
                        
                      
                      Sigridjb topic presentation
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/SizeDistNotebooks/Alert_sizedist.html"
                    >
                      
                        1.4.5
                        
                      
                      Alert Size distribution
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/SizeDistNotebooks/Tiksi_sizedist.html"
                    >
                      
                        1.4.6
                        
                      
                      Tiksi Size distribution
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/SizeDistNotebooks/Nord_sizedist.html"
                    >
                      
                        1.4.7
                        
                      
                      Nord Size distribution
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/topics/group-4/SizeDistNotebooks/Zeppelin_sizedist.html"
                    >
                      
                        1.4.8
                        
                      
                      Zeppelin Size distribution
                    </a>
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/tools/tools.html"
        >
          
          Tools
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/setup/preparation.html"
        >
          
          Course preparation
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/setup/setup.html"
                >
                  
                  Setup
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/setup/laptop_setup.html"
                    >
                      
                      Laptop setup
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/setup/jupyterhub_setup.html"
                    >
                      
                      Jupyterhub setup
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="https://jupyter.org/try.html"
                >
                  
                  Get ready with Jupyter
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="https://swcarpentry.github.io/python-novice-gapminder/index.html"
                >
                  
                  Get ready with Python
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/contributing/os_contribution.html"
        >
          
          Course Contribution
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/contributing/newcomers.html"
                >
                  
                  New contributors
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/contributing/CONTRIBUTING.html"
                >
                  
                  Contribute to Open Science projects
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/setup/Abisko_prep.html"
                >
                  
                  Notebook example
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/NEGI-Abisko-2019/training/intro.html"
        >
          
          Learning resources
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/presentations.html"
                >
                  
                  Presentations
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="https://nordicesmhub.github.io/tutorials/programming/index.html"
                >
                  
                  Programming
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="https://nordicesmhub.github.io/tutorials/science/index.html"
                >
                  
                  E-Science
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/intro_github.html"
                >
                  
                  Getting started with Git/Github
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/visualize/intro.html"
                >
                  
                  Visualize in Python
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/python_examples.html"
                >
                  
                  Python examples
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/visualize/zeppelin_size_dist.html"
                    >
                      
                      Aerosol distribution plotting
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/example_NorthPolarStereo_projection.html"
                    >
                      
                      Example NorthPolarStereo_projection
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/Example_model_global_arctic_average.html"
                    >
                      
                      Example Weighted/masked average
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/gridded_model_data_dask_rolling_mean.html"
                    >
                      
                      Gridded model data dask rolling mean
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/pyaerocom/intro.html"
                >
                  
                  Pyaerocom
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry c-sidebar__entry--active"
                      href="/NEGI-Abisko-2019/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom.html"
                    >
                      
                      pyaerocom jupyter notebook
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/pyaerocom/example_ebas_read.html"
                    >
                      
                      pyaerocom EBAS example
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/pyaerocom/HOWTO_find_EBAS_files.html"
                    >
                      
                      How to find EBAS files
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/pyaerocom/HOWTO_read_EBAS_files.html"
                    >
                      
                      How to read EBAS files
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/pyaerocom/local_pyaerocom.html"
                    >
                      
                      Install pyaerocom dev
                    </a>
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/NEGI-Abisko-2019/training/CMIP6_data.html"
                >
                  
                  CMIP6 data
                </a>

                
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/CMIP6_example.html"
                    >
                      
                      Plotting CMIP6 data
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/CMIP6_dask.html"
                    >
                      
                      CMIP6 data with dask cluster
                    </a>
                
                  
                  

                  <li class="c-sidebar__subsection">
                    <a class="c-sidebar__entry "
                      href="/NEGI-Abisko-2019/training/example_search_cmip6_historical.html"
                    >
                      
                      Search CMIP6 historical data
                    </a>
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="https://github.com/NordicESMHub/NEGI-Abisko-2019"
        >
          
          GitHub repository
        </a>

        
      </li>

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://github.com/jupyter/jupyter-book">Jupyter Book</a></p>
</nav>

      
      <div class="c-topbar" id="top-navbar">
  <!-- We show the sidebar by default so we use .is-active -->
  <div class="c-topbar__buttons">
    <button
      id="js-sidebar-toggle"
      class="hamburger hamburger--arrowalt is-active"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <div class="buttons">
<div class="download-buttons-dropdown">
    <button id="dropdown-button-trigger" class="interact-button"><i class="fa fa-download"></i></button>
    <div class="download-buttons">
        <a href="/NEGI-Abisko-2019/content/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom.ipynb" download>
        <button id="interact-button-download" class="interact-button">ORIG</button>
        </a>
        
        <a id="interact-button-print"><button id="interact-button-download" class="interact-button">PDF</button></a>
    </div>
</div>

  <button id="interact-button-thebelab" class="interact-button">Thebelab</button>

  
  






<a href="https://mybinder.org/v2/gh/NordicESMHub/NEGI-Abisko-2019/master?urlpath=lab/tree/content%2Ftraining%2Fpyaerocom%2Fjgliss_intro_model_evaluation_pyaerocom.ipynb"><button class="interact-button" id="interact-button-binder"><img class="interact-button-logo" src="/NEGI-Abisko-2019/assets/images/logo_binder.svg" alt="Interact" />Interact</button></a>
  





<a href="http://abisko.uiogeo-apps.sigma2.no/hub/user-redirect/git-pull?repo=https://github.com//NordicESMHub/NEGI-Abisko-2019&amp;branch=master&amp;subPath=content%2Ftraining%2Fpyaerocom%2Fjgliss_intro_model_evaluation_pyaerocom.ipynb&amp;app=lab"><button class="interact-button" id="interact-button-jupyterhub"><img class="interact-button-logo" src="/NEGI-Abisko-2019/assets/images/logo_jupyterhub.svg" alt="Interact" />JupyterHub</button></a>




</div>

  </div>
  <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
  <aside class="sidebar__right">
    <header><h4 class="nav__title"><i class="fa fa-list"></i>   On this page</h4></header>
    <nav class="onthispage">
    </nav>
  </aside>
  <a href="/NEGI-Abisko-2019/search.html" class="topbar-right-button" id="search-button"><i class="fa fa-search"></i></a>
</div>

      <main class="c-textbook__page" tabindex="-1">
            <div class="c-textbook__content" id="textbook_content">
                  <main class="jupyter-page">
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model-evaluation-using-pyaerocom">Model evaluation using pyaerocom<a class="anchor-link" href="#Model-evaluation-using-pyaerocom"> </a></h2><p>After this introduction, you will know how to:</p>
<ul>
<li><strong>Search</strong> for model and observation data in the provided database</li>
<li><strong>Read</strong> model and observation data </li>
<li><strong>Explore</strong> the data (<code>GriddedData</code> and <code>UngriddedData</code>)</li>
<li><strong>Colocate</strong> data and assess model performance (<code>ColocatedData</code>)</li>
<li><strong>Convert</strong> from pyaerocom to other common libraries such as <code>pandas</code> or <code>xarray</code></li>
<li><strong>Store</strong> intermediate results as NetCDF that may be used for further analysis.</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pyaerocom-API">Pyaerocom API<a class="anchor-link" href="#Pyaerocom-API"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="pyaerocom_basic_flowchart.png" alt="API"></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Get-started">Get started<a class="anchor-link" href="#Get-started"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pyaerocom</span> <span class="k">as</span> <span class="nn">pya</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">warnings</span> <span class="k">import</span> <span class="n">filterwarnings</span>
<span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">pya</span><span class="o">.</span><span class="n">change_verbosity</span><span class="p">(</span><span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">print_log</span><span class="p">)</span> <span class="c1"># don&#39;t output warnings</span>
<span class="n">pya</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;0.8.1.dev3&#39;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Please make sure to use version <strong>0.8.1.dev2</strong> (or later). If you have an earlier version, follow <a href="https://github.com/NordicESMhub/NEGI-Abisko-2019/blob/master/content/training/pyaerocom/local_pyaerocom.md">these instructions</a> in order to update your installation.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Change-basic-data-directory-to-location-of-pyaerocom-testdata">Change basic data directory to location of <em>pyaerocom-testdata</em><a class="anchor-link" href="#Change-basic-data-directory-to-location-of-pyaerocom-testdata"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>
<span class="k">if</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;pc4971&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am on Jonas PC&#39;</span><span class="p">)</span>
    <span class="n">DATA_BASEDIR</span> <span class="o">=</span> <span class="s1">&#39;/home/jonasg/MyPyaerocom/pyaerocom-testdata&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I assume I am on the Abisko Jupyter hub&#39;</span><span class="p">)</span>
    <span class="n">DATA_BASEDIR</span> <span class="o">=</span> <span class="s1">&#39;/home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/&#39;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>I assume I am on the Abisko Jupyter hub
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">BASEDIR</span> <span class="o">=</span> <span class="n">DATA_BASEDIR</span>
<span class="n">pya</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">BASEDIR</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;/home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/&#39;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Searching-for-available-data-in-pyaerocom-testdata-(method-browse_database)">Searching for available data in pyaerocom-testdata (method <code>browse_database</code>)<a class="anchor-link" href="#Searching-for-available-data-in-pyaerocom-testdata-(method-browse_database)"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;*TM5*&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Pyaerocom ReadGridded
---------------------
Data ID: TM5_AP3-CTRL2019
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/TM5_AP3-CTRL2019/renamed
Available experiments: [&#39;AP3-CTRL2019&#39;]
Available years: [2010]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs350aer&#39;, &#39;abs440aer&#39;, &#39;abs440dryaer&#39;, &#39;abs550aer&#39;, &#39;abs550dryaer&#39;, &#39;abs550drylt1aer&#39;, &#39;abs870aer&#39;, &#39;abs870dryaer&#39;, &#39;airmass&#39;, &#39;asyaer&#39;, &#39;asydryaer&#39;, &#39;depbc&#39;, &#39;depdms&#39;, &#39;depdust&#39;, &#39;dephno3&#39;, &#39;depmsa&#39;, &#39;depn&#39;, &#39;depnh3&#39;, &#39;depnh4&#39;, &#39;depnhx&#39;, &#39;depno2&#39;, &#39;depno3&#39;, &#39;depnoy&#39;, &#39;depo3&#39;, &#39;depoa&#39;, &#39;deps&#39;, &#39;depso2&#39;, &#39;depso4&#39;, &#39;depss&#39;, &#39;dh&#39;, &#39;drybc&#39;, &#39;drydms&#39;, &#39;drydust&#39;, &#39;dryhno3&#39;, &#39;drynh3&#39;, &#39;dryno2&#39;, &#39;dryno3&#39;, &#39;drynoy&#39;, &#39;dryo3&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec440dryaer&#39;, &#39;ec550aer&#39;, &#39;ec550dryaer&#39;, &#39;ec550drylt1aer&#39;, &#39;ec870dryaer&#39;, &#39;emibc&#39;, &#39;emico&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emiisop&#39;, &#39;emin&#39;, &#39;eminh3&#39;, &#39;eminox&#39;, &#39;emioa&#39;, &#39;emis&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;emiterp&#39;, &#39;emivoc&#39;, &#39;hus&#39;, &#39;loadbc&#39;, &#39;loaddust&#39;, &#39;loadno3&#39;, &#39;loadoa&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;od350aer&#39;, &#39;od440aer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550dust&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1dust&#39;, &#39;od550lt1ss&#39;, &#39;od550no3&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od870aer&#39;, &#39;pr&#39;, &#39;sconcbc&#39;, &#39;sconcdust&#39;, &#39;sconcmsa&#39;, &#39;sconcnh4&#39;, &#39;sconcno3&#39;, &#39;sconcoa&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;ta&#39;, &#39;temp&#39;, &#39;vmrch4&#39;, &#39;vmrco&#39;, &#39;vmrno&#39;, &#39;vmrno2&#39;, &#39;vmro3&#39;, &#39;vmroh&#39;, &#39;wetbc&#39;, &#39;wetdms&#39;, &#39;wetdust&#39;, &#39;wethno3&#39;, &#39;wetmsa&#39;, &#39;wetnh3&#39;, &#39;wetnh4&#39;, &#39;wetno3&#39;, &#39;wetnoy&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use the <strong><em>Data ID</em></strong> or the <strong><em>Data directory</em></strong> to read this dataset (next step)</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Reading-of-model-data-(ReadGridded-class)">Reading of model data (<code>ReadGridded</code> class)<a class="anchor-link" href="#Reading-of-model-data-(ReadGridded-class)"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">DATA_ID</span> <span class="o">=</span> <span class="s1">&#39;TM5_AP3-CTRL2019&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadGridded</span><span class="p">(</span><span class="n">DATA_ID</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Pyaerocom ReadGridded
---------------------
Data ID: TM5_AP3-CTRL2019
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/TM5_AP3-CTRL2019/renamed
Available experiments: [&#39;AP3-CTRL2019&#39;]
Available years: [2010]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs350aer&#39;, &#39;abs440aer&#39;, &#39;abs440dryaer&#39;, &#39;abs550aer&#39;, &#39;abs550dryaer&#39;, &#39;abs550drylt1aer&#39;, &#39;abs870aer&#39;, &#39;abs870dryaer&#39;, &#39;airmass&#39;, &#39;asyaer&#39;, &#39;asydryaer&#39;, &#39;depbc&#39;, &#39;depdms&#39;, &#39;depdust&#39;, &#39;dephno3&#39;, &#39;depmsa&#39;, &#39;depn&#39;, &#39;depnh3&#39;, &#39;depnh4&#39;, &#39;depnhx&#39;, &#39;depno2&#39;, &#39;depno3&#39;, &#39;depnoy&#39;, &#39;depo3&#39;, &#39;depoa&#39;, &#39;deps&#39;, &#39;depso2&#39;, &#39;depso4&#39;, &#39;depss&#39;, &#39;dh&#39;, &#39;drybc&#39;, &#39;drydms&#39;, &#39;drydust&#39;, &#39;dryhno3&#39;, &#39;drynh3&#39;, &#39;dryno2&#39;, &#39;dryno3&#39;, &#39;drynoy&#39;, &#39;dryo3&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec440dryaer&#39;, &#39;ec550aer&#39;, &#39;ec550dryaer&#39;, &#39;ec550drylt1aer&#39;, &#39;ec870dryaer&#39;, &#39;emibc&#39;, &#39;emico&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emiisop&#39;, &#39;emin&#39;, &#39;eminh3&#39;, &#39;eminox&#39;, &#39;emioa&#39;, &#39;emis&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;emiterp&#39;, &#39;emivoc&#39;, &#39;hus&#39;, &#39;loadbc&#39;, &#39;loaddust&#39;, &#39;loadno3&#39;, &#39;loadoa&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;od350aer&#39;, &#39;od440aer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550dust&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1dust&#39;, &#39;od550lt1ss&#39;, &#39;od550no3&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od870aer&#39;, &#39;pr&#39;, &#39;sconcbc&#39;, &#39;sconcdust&#39;, &#39;sconcmsa&#39;, &#39;sconcnh4&#39;, &#39;sconcno3&#39;, &#39;sconcoa&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;ta&#39;, &#39;temp&#39;, &#39;vmrch4&#39;, &#39;vmrco&#39;, &#39;vmrno&#39;, &#39;vmrno2&#39;, &#39;vmro3&#39;, &#39;vmroh&#39;, &#39;wetbc&#39;, &#39;wetdms&#39;, &#39;wetdust&#39;, &#39;wethno3&#39;, &#39;wetmsa&#39;, &#39;wetnh3&#39;, &#39;wetnh4&#39;, &#39;wetno3&#39;, &#39;wetnoy&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="In-case-you-are-not-familiar-with-the-variable-names:">In case you are not familiar with the variable names:<a class="anchor-link" href="#In-case-you-are-not-familiar-with-the-variable-names:"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">get_variable</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>od550aer
standard_name: atmosphere_optical_thickness_due_to_ambient_aerosol_particles; Unit: 1</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Read-2010-Aerosol-optical-depth-(at-550-nm)-from-TM5-model">Read 2010 Aerosol optical depth (at 550 nm) from TM5 model<a class="anchor-link" href="#Read-2010-Aerosol-optical-depth-(at-550-nm)-from-TM5-model"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on method read_var in module pyaerocom.io.readgridded:

read_var(var_name, start=None, stop=None, ts_type=None, experiment=None, vert_which=None, flex_ts_type=True, prefer_longer=False, aux_vars=None, aux_fun=None, **kwargs) method of pyaerocom.io.readgridded.ReadGridded instance
    Read model data for a specific variable
    
    This method searches all valid files for a given variable and for a 
    provided temporal resolution (e.g. *daily, monthly*), optionally
    within a certain time window, that may be specified on class 
    instantiation or using the corresponding input parameters provided in 
    this method.
    
    The individual NetCDF files for a given temporal period are loaded as
    instances of the :class:`iris.Cube` object and appended to an instance
    of the :class:`iris.cube.CubeList` object. The latter is then used to 
    concatenate the individual cubes in time into a single instance of the
    :class:`pyaerocom.GriddedData` class. In order to ensure that this
    works, several things need to be ensured, which are listed in the 
    following and which may be controlled within the global settings for 
    NetCDF import using the attribute :attr:`GRID_IO` (instance of
    :class:`OnLoad`) in the default instance of the 
    :class:`pyaerocom.config.Config` object accessible via 
    ``pyaerocom.const``.
    
    
    Parameters
    ----------
    var_name : str
        variable that are supposed to be read
    start : Timestamp or str, optional
        start time of data import 
    stop : Timestamp or str, optional
        stop time of data import
    ts_type : str
        string specifying temporal resolution (choose from 
        &#34;hourly&#34;, &#34;3hourly&#34;, &#34;daily&#34;, &#34;monthly&#34;). If None, prioritised 
        of the available resolutions is used
    experiment : str
        name of experiment (only relevant if this dataset contains more 
        than one experiment)
    vert_which : str or dict, optional
        valid AeroCom vertical info string encoded in name (e.g. Column,
        ModelLevel) or dictionary containing var_name as key and vertical
        coded string as value, accordingly
    flex_ts_type : bool
        if True and if applicable, then another ts_type is used in case 
        the input ts_type is not available for this variable
    prefer_longer : bool
        if True and applicable, the ts_type resulting in the longer time
        coverage will be preferred over other possible frequencies that 
        match the query.
    aux_vars : list
        only relevant if `var_name` is not available for reading but needs
        to be computed: list of variables that are required to compute 
        `var_name`
    aux_fun : callable
        only relevant if `var_name` is not available for reading but needs
        to be computed: custom method for computation (cf. 
        :func:`add_aux_compute` for details)
    **kwargs
        additional keyword args parsed to :func:`_load_var`
        
    Returns
    -------
    GriddedData
        loaded data object
        
    Raises
    ------
    AttributeError
        if none of the ts_types identified from file names is valid
    VarNotAvailableError
        if specified ts_type is not supported

</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model_data</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_var</span><span class="p">(</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">model_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>pyaerocom.griddeddata.GriddedData</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Working-with-the-GriddedData-object">Working with the <code>GriddedData</code> object<a class="anchor-link" href="#Working-with-the-GriddedData-object"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model_data</span><span class="o">.</span><span class="n">ts_type</span> <span class="c1"># temporal resolution</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;monthly&#39;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model_data</span><span class="o">.</span><span class="n">quickplot_map</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_22_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Branching-off:-Converting-GriddedData-to-iris.Cube-or-xarray.DataArray">Branching off: Converting <code>GriddedData</code> to <code>iris.Cube</code> or <code>xarray.DataArray</code><a class="anchor-link" href="#Branching-off:-Converting-GriddedData-to-iris.Cube-or-xarray.DataArray"> </a></h4><p><strong>Actually</strong>, the <code>GriddedData</code> object is based on the <code>iris.Cube</code> object which can be accessed via the <code>cube</code> attr:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cube</span> <span class="o">=</span> <span class="n">model_data</span><span class="o">.</span><span class="n">cube</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>iris.cube.Cube</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cube</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<style>
  a.iris {
      text-decoration: none !important;
  }
  table.iris {
      white-space: pre;
      border: 1px solid;
      border-color: #9c9c9c;
      font-family: monaco, monospace;
  }
  th.iris {
      background: #303f3f;
      color: #e0e0e0;
      border-left: 1px solid;
      border-color: #9c9c9c;
      font-size: 1.05em;
      min-width: 50px;
      max-width: 125px;
  }
  tr.iris :first-child {
      border-right: 1px solid #9c9c9c !important;
  }
  td.iris-title {
      background: #d5dcdf;
      border-top: 1px solid #9c9c9c;
      font-weight: bold;
  }
  .iris-word-cell {
      text-align: left !important;
      white-space: pre;
  }
  .iris-subheading-cell {
      padding-left: 2em !important;
  }
  .iris-inclusion-cell {
      padding-right: 1em !important;
  }
  .iris-panel-body {
      padding-top: 0px;
  }
  .iris-panel-title {
      padding-left: 3em;
  }
  .iris-panel-title {
      margin-top: 7px;
  }
</style>
<table class="iris" id="140196429334512">
    <tr class="iris">
<th class="iris iris-word-cell">Atmosphere Optical Thickness Due To Ambient Aerosol (1)</th>
<th class="iris iris-word-cell">time</th>
<th class="iris iris-word-cell">latitude</th>
<th class="iris iris-word-cell">longitude</th>
</tr>
    <tr class="iris">
<td class="iris-word-cell iris-subheading-cell">Shape</td>
<td class="iris iris-inclusion-cell">12</td>
<td class="iris iris-inclusion-cell">90</td>
<td class="iris iris-inclusion-cell">120</td>
</td>
    <tr class="iris">
    <td class="iris-title iris-word-cell">Dimension coordinates</td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	time</td>
    <td class="iris-inclusion-cell">x</td>
    <td class="iris-inclusion-cell">-</td>
    <td class="iris-inclusion-cell">-</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	latitude</td>
    <td class="iris-inclusion-cell">-</td>
    <td class="iris-inclusion-cell">x</td>
    <td class="iris-inclusion-cell">-</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	longitude</td>
    <td class="iris-inclusion-cell">-</td>
    <td class="iris-inclusion-cell">-</td>
    <td class="iris-inclusion-cell">x</td>
</tr>
<tr class="iris">
    <td class="iris-title iris-word-cell">Attributes</td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	Conventions</td>
    <td class="iris-word-cell" colspan="3">CF-1.6</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	computed</td>
    <td class="iris-word-cell" colspan="3">False</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	concatenated</td>
    <td class="iris-word-cell" colspan="3">False</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	contact</td>
    <td class="iris-word-cell" colspan="3">Twan van Noije (noije@knmi.nl)</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	data_id</td>
    <td class="iris-word-cell" colspan="3">TM5_AP3-CTRL2019</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	experiment_id</td>
    <td class="iris-word-cell" colspan="3">AP3-CTRL2019</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	from_files</td>
    <td class="iris-word-cell" colspan="3">['/home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/TM...</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	institute_id</td>
    <td class="iris-word-cell" colspan="3">KNMI</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	institution</td>
    <td class="iris-word-cell" colspan="3">Royal Netherlands Meteorological Institute, De Bilt, The Netherlands</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	model_id</td>
    <td class="iris-word-cell" colspan="3">TM5</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	outliers_removed</td>
    <td class="iris-word-cell" colspan="3">False</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	project_id</td>
    <td class="iris-word-cell" colspan="3">AeroCom Phase 3</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	reader</td>
    <td class="iris-word-cell" colspan="3">None</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	references</td>
    <td class="iris-word-cell" colspan="3">Van Noije, T.P.C., et al. (Geosci. Model Dev., 7, 2435-2475, 2014); Bergman,...</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	region</td>
    <td class="iris-word-cell" colspan="3">None</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	regridded</td>
    <td class="iris-word-cell" colspan="3">False</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	source</td>
    <td class="iris-word-cell" colspan="3">TM5-mp, r1058: CTM ERA-Interim 3x2 34L</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	title</td>
    <td class="iris-word-cell" colspan="3">TM5 model output prepared for AeroCom Phase 3</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	ts_type</td>
    <td class="iris-word-cell" colspan="3">monthly</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	var_name_read</td>
    <td class="iris-word-cell" colspan="3">n/d</td>
</tr>
<tr class="iris">
    <td class="iris-title iris-word-cell">Cell methods</td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
    <td class="iris-title"></td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	point</td>
    <td class="iris-word-cell" colspan="3">longitude, latitude</td>
</tr>
<tr class="iris">
    <td class="iris-word-cell iris-subheading-cell">	mean</td>
    <td class="iris-word-cell" colspan="3">time</td>
</tr>
</table>

</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span> <span class="c1"># pyaerocom &gt;= 0.8.1</span>
    <span class="n">data_arr</span> <span class="o">=</span> <span class="n">model_data</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span> <span class="c1"># pyaerocom &lt; 0.8.1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coming soon in pyaerocom v0.8.1&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xarr</span>
    <span class="n">data_arr</span> <span class="o">=</span> <span class="n">xarr</span><span class="o">.</span><span class="n">DataArray</span><span class="o">.</span><span class="n">from_iris</span><span class="p">(</span><span class="n">model_data</span><span class="o">.</span><span class="n">cube</span><span class="p">)</span>
<span class="n">data_arr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#39;od550aer&#39; (time: 12, lat: 90, lon: 120)&gt;
dask.array&lt;filled, shape=(12, 90, 120), dtype=float32, chunksize=(12, 90, 120), chunktype=numpy.ndarray&gt;
Coordinates:
  * time     (time) object 2010-01-15 12:00:00 ... 2010-12-15 12:00:00
  * lat      (lat) float64 -89.0 -87.0 -85.0 -83.0 -81.0 ... 83.0 85.0 87.0 89.0
  * lon      (lon) float64 1.5 4.5 7.5 10.5 13.5 ... 349.5 352.5 355.5 358.5
Attributes:
    standard_name:     atmosphere_optical_thickness_due_to_ambient_aerosol
    long_name:         Ambient Aerosol Optical Thickness at 550 nm
    institution:       Royal Netherlands Meteorological Institute, De Bilt, T...
    institute_id:      KNMI
    source:            TM5-mp, r1058: CTM ERA-Interim 3x2 34L
    model_id:          TM5
    references:        Van Noije, T.P.C., et al. (Geosci. Model Dev., 7, 2435...
    experiment_id:     AP3-CTRL2019
    project_id:        AeroCom Phase 3
    title:             TM5 model output prepared for AeroCom Phase 3
    Conventions:       CF-1.6
    contact:           Twan van Noije (noije@knmi.nl)
    from_files:        [&#39;/home/notebook/shared-ns1000k/inputs/pyaerocom-testd...
    data_id:           TM5_AP3-CTRL2019
    var_name_read:     n/d
    ts_type:           monthly
    regridded:         False
    outliers_removed:  False
    computed:          False
    concatenated:      False
    cell_methods:      longitude: latitude: point time: mean</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Other-methods-of-the-GriddedData-object-that-may-be-useful">Other methods of the <code>GriddedData</code> object that may be useful<a class="anchor-link" href="#Other-methods-of-the-GriddedData-object-that-may-be-useful"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>model_data.interpolate</li>
<li>model_data.regrid</li>
<li>model_data.crop</li>
<li>model_data.resample_time</li>
<li>model_data.sel</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Extract-data-at-a-certain-coordinate-and-plot-timeseries">Extract data at a certain coordinate and plot timeseries<a class="anchor-link" href="#Extract-data-at-a-certain-coordinate-and-plot-timeseries"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">LON_ABISKO</span> <span class="o">=</span> <span class="mf">18.8312</span> <span class="c1"># E</span>
<span class="n">LAT_ABISKO</span> <span class="o">=</span> <span class="mf">68.3495</span> <span class="c1"># N </span>
<span class="n">subset_abisko</span> <span class="o">=</span> <span class="n">model_data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="n">LON_ABISKO</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">LAT_ABISKO</span><span class="p">)</span>
<span class="n">subset_abisko</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>pyaerocom.GriddedData
Grid data: &lt;iris &#39;Cube&#39; of atmosphere_optical_thickness_due_to_ambient_aerosol / (1) (time: 12)&gt;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span> <span class="c1"># pyaerocom &gt;= 0.8.1</span>
    <span class="n">subset_abisko</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
<span class="k">except</span><span class="p">:</span> <span class="c1"># pyaerocom &lt; 0.8.1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coming soon in pyaerocom v0.8.1&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xarr</span>
    <span class="n">data_arr</span> <span class="o">=</span> <span class="n">xarr</span><span class="o">.</span><span class="n">DataArray</span><span class="o">.</span><span class="n">from_iris</span><span class="p">(</span><span class="n">subset_abisko</span><span class="o">.</span><span class="n">cube</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_32_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Reading-of-ungridded-data-(ReadUngridded-class)">Reading of ungridded data (<code>ReadUngridded</code> class)<a class="anchor-link" href="#Reading-of-ungridded-data-(ReadUngridded-class)"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Ungridded data usually comprises timeseries data from different locations on earth and sampled at different times. </li>
<li>The data is often provided <em>per station</em> in form of text files (e.g. CSV).</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="pyaerocom_ungridded_io_flowchart.png" alt="ungridded_api"></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Read-Aeronet-Sun-version-3-level-2-data">Read Aeronet Sun version 3 level 2 data<a class="anchor-link" href="#Read-Aeronet-Sun-version-3-level-2-data"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;Aeronet*V3*Lev2*&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Dataset name: AeronetSunV3Lev2.daily
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata//obsdata/AeronetSunV3Lev2.0.daily/renamed
Supported variables: [&#39;od340aer&#39;, &#39;od440aer&#39;, &#39;od500aer&#39;, &#39;od870aer&#39;, &#39;ang4487aer&#39;, &#39;ang4487aer_calc&#39;, &#39;od550aer&#39;]
Last revision: 20190920

Dataset name: AeronetSDAV3Lev2.daily
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata//obsdata/Aeronet.SDA.V3L2.0.daily/renamed
Supported variables: [&#39;od500gt1aer&#39;, &#39;od500lt1aer&#39;, &#39;od500aer&#39;, &#39;ang4487aer&#39;, &#39;od550aer&#39;, &#39;od550gt1aer&#39;, &#39;od550lt1aer&#39;]
Last revision: 20190920
Reading failed for AeronetSDAV3Lev2.AP. Error: NetworkNotImplemented(&#39;No reading class available yet for dataset AeronetSDAV3Lev2.AP&#39;)
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">OBS_ID</span> <span class="o">=</span> <span class="s1">&#39;AeronetSunV3Lev2.daily&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_reader</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ReadUngridded</span><span class="p">(</span><span class="n">OBS_ID</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obs_reader</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Dataset name: AeronetSunV3Lev2.daily
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata//obsdata/AeronetSunV3Lev2.0.daily/renamed
Supported variables: [&#39;od340aer&#39;, &#39;od440aer&#39;, &#39;od500aer&#39;, &#39;od870aer&#39;, &#39;ang4487aer&#39;, &#39;ang4487aer_calc&#39;, &#39;od550aer&#39;]
Last revision: 20190920
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Read-in-all-stations-(files)-that-have-AOD-data">Read in all stations (files) that have AOD data<a class="anchor-link" href="#Read-in-all-stations-(files)-that-have-AOD-data"> </a></h5>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_data</span> <span class="o">=</span> <span class="n">obs_reader</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">vars_to_retrieve</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;od550aer&#39;</span><span class="p">])</span>
<span class="n">obs_data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>UngriddedData &lt;networks: [&#39;AeronetSunV3Lev2.daily&#39;]; vars: [&#39;od550aer&#39;]; instruments: [&#39;sun_photometer&#39;];No. of stations: 1230</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-UngriddedData-object">The <code>UngriddedData</code> object<a class="anchor-link" href="#The-UngriddedData-object"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Getting-an-overview">Getting an overview<a class="anchor-link" href="#Getting-an-overview"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">plot_station_coordinates</span><span class="p">(</span><span class="n">markersize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">plot_station_coordinates</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> 
                                       <span class="n">start</span><span class="o">=</span><span class="mi">2008</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">2012</span><span class="p">,</span> 
                                       <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lime&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_44_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Metadata--&gt;-available-per-file-that-was-read-in">Metadata -&gt; available per file that was read in<a class="anchor-link" href="#Metadata--&gt;-available-per-file-that-was-read-in"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">obs_data</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1230</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>e.g. metadata of first file:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_data</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="mi">420</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>OrderedDict([(&#39;var_info&#39;,
              OrderedDict([(&#39;od550aer&#39;, OrderedDict([(&#39;units&#39;, &#39;1&#39;)]))])),
             (&#39;latitude&#39;, 19.932449999999996),
             (&#39;longitude&#39;, 99.04539999999999),
             (&#39;altitude&#39;, 1536.0),
             (&#39;station_name&#39;, &#39;Doi_Ang_Khang&#39;),
             (&#39;PI&#39;, &#39;Brent_Holben&#39;),
             (&#39;ts_type&#39;, &#39;daily&#39;),
             (&#39;data_id&#39;, &#39;AeronetSunV3Lev2.daily&#39;),
             (&#39;variables&#39;, [&#39;od550aer&#39;]),
             (&#39;instrument_name&#39;, &#39;sun_photometer&#39;),
             (&#39;data_revision&#39;, &#39;20190920&#39;)])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Filter-data">Filter data<a class="anchor-link" href="#Filter-data"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_arctic</span> <span class="o">=</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">apply_filters</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="n">obs_arctic</span><span class="o">.</span><span class="n">plot_station_coordinates</span><span class="p">(</span><span class="n">markersize</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_50_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Extract-data-from-individual-stations-(e.g.-Lille)">Extract data from individual stations (e.g. Lille)<a class="anchor-link" href="#Extract-data-from-individual-stations-(e.g.-Lille)"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lille_data</span> <span class="o">=</span> <span class="n">obs_data</span><span class="o">.</span><span class="n">to_station_data</span><span class="p">(</span><span class="s1">&#39;*Lille*&#39;</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">lille_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>pyaerocom.stationdata.StationData</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Quick-intro-into-StationData">Quick intro into <code>StationData</code><a class="anchor-link" href="#Quick-intro-into-StationData"> </a></h3><ul>
<li>Essentially an extended python dictionary with some extras (e.g. you can use <code>.</code> and <code>[]</code> to access and assign attributes)</li>
<li>contains timeseries data as <code>pandas.Series</code> </li>
<li>contains metadata</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lille_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>odict_keys([&#39;dtime&#39;, &#39;var_info&#39;, &#39;station_coords&#39;, &#39;data_err&#39;, &#39;overlap&#39;, &#39;data_flagged&#39;, &#39;filename&#39;, &#39;station_id&#39;, &#39;station_name&#39;, &#39;instrument_name&#39;, &#39;PI&#39;, &#39;country&#39;, &#39;ts_type&#39;, &#39;latitude&#39;, &#39;longitude&#39;, &#39;altitude&#39;, &#39;data_id&#39;, &#39;dataset_name&#39;, &#39;data_product&#39;, &#39;data_version&#39;, &#39;data_level&#39;, &#39;revision_date&#39;, &#39;website&#39;, &#39;ts_type_src&#39;, &#39;stat_merge_pref_attr&#39;, &#39;data_revision&#39;, &#39;od550aer&#39;])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lille_data</span><span class="o">.</span><span class="n">longitude</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>3.1416669999999987</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lille_data</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>50.611667000000004</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="The-actual-timeseries-data-can-be-accessed-as-pandas.Series-simply-by-using-the-variable-name">The actual timeseries data can be accessed as <code>pandas.Series</code> simply by using the variable name<a class="anchor-link" href="#The-actual-timeseries-data-can-be-accessed-as-pandas.Series-simply-by-using-the-variable-name"> </a></h5>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lille_data</span><span class="o">.</span><span class="n">od550aer</span> <span class="c1"># THIS is exactly equivalent to the command lille_data[&#39;od550aer&#39;]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1995-06-30 12:00:00    0.403992
1995-07-01 12:00:00    0.695444
1995-07-04 12:00:00    0.213412
1995-07-07 12:00:00    0.757272
1995-07-08 12:00:00    1.072732
                         ...   
2019-06-16 12:00:00    0.061789
2019-06-17 12:00:00    0.100830
2019-06-18 12:00:00    0.130222
2019-06-20 12:00:00    0.046714
2019-06-21 12:00:00    0.074854
Length: 3399, dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">lille_data</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">lille_data</span><span class="o">.</span><span class="n">plot_timeseries</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;od550aer&#39;</span><span class="p">,</span> <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_59_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Colocation-of-model-and-obsdata">Colocation of model and obsdata<a class="anchor-link" href="#Colocation-of-model-and-obsdata"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_data</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_ungridded</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> 
                                                     <span class="n">obs_data</span><span class="p">,</span> 
                                                     <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                                                     <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">pya</span><span class="o">.</span><span class="n">colocation</span><span class="o">.</span><span class="n">colocate_gridded_gridded</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Help on function colocate_gridded_gridded in module pyaerocom.colocation:

colocate_gridded_gridded(gridded_data, gridded_data_ref, ts_type=None, start=None, stop=None, filter_name=None, regrid_res_deg=None, remove_outliers=True, vert_scheme=None, harmonise_units=True, regrid_scheme=&#39;areaweighted&#39;, var_outlier_ranges=None, var_ref_outlier_ranges=None, update_baseyear_gridded=None, apply_time_resampling_constraints=None, min_num_obs=None, colocate_time=False, var_keep_outliers=True, var_ref_keep_outliers=False, **kwargs)
    Colocate 2 gridded data objects
    
    Todo
    ----
    - think about vertical dimension (vert_scheme input not used at the moment)
    
    Parameters
    ----------
    gridded_data : GriddedData
        gridded data (e.g. model results)
    gridded_data_ref : GriddedData
        reference dataset that is used to evaluate 
        :attr:`gridded_data` (e.g. gridded observation data)
    ts_type : str
        desired temporal resolution of colocated data (must be valid AeroCom
        ts_type str such as daily, monthly, yearly..)
    start : :obj:`str` or :obj:`datetime64` or similar, optional
        start time for colocation, if None, the start time of the input
        :class:`GriddedData` object is used
    stop : :obj:`str` or :obj:`datetime64` or similar, optional
        stop time for colocation, if None, the stop time of the input
        :class:`GriddedData` object is used
    filter_name : str
        string specifying filter used (cf. :class:`pyaerocom.filter.Filter` for
        details). If None, then it is set to &#39;WORLD-wMOUNTAINS&#39;, which 
        corresponds to no filtering (world with mountains). 
        Use WORLD-noMOUNTAINS to exclude mountain sites.
    regrid_res_deg : :obj:`int`, optional
        regrid resolution in degrees. If specified, the input gridded data 
        objects will be regridded in lon / lat dimension to the input 
        resolution. (BETA feature)
    remove_outliers : bool
        if True, outliers are removed from model and obs data before colocation, 
        else not.
    vert_scheme : str
        string specifying scheme used to reduce the dimensionality in case 
        input grid data contains vertical dimension. Example schemes are 
        `mean, surface, altitude`, for details see 
        :func:`GriddedData.to_time_series`.
    harmonise_units : bool
        if True, units are attempted to be harmonised (note: raises Exception
        if True and units cannot be harmonised).
    regrid_scheme : str
        iris scheme used for regridding (defaults to area weighted regridding)
    var_outlier_ranges : :obj:`dict`, optional
        dictionary specifying outlier ranges for dataset to be analysed
        (e.g. dict(od550aer = [-0.05, 10], ang4487aer=[0,4])). If None, then
        the pyaerocom default outlier ranges are used for the input variable.
        Defaults to None.
    var_ref_outlier_ranges : dict, optional
        like `var_outlier_ranges` but for reference dataset.
    update_baseyear_gridded : int, optional
        optional input that can be set in order to redefine the time dimension
        in the gridded data object to be analysed. E.g., if the data object 
        is a climatology (one year of data) that has set the base year of the
        time dimension to a value other than the specified input start / stop 
        time this may be used to update the time in order to make colocation 
        possible.
    apply_time_resampling_constraints : bool, optional
        if True, then time resampling constraints are applied as provided via 
        :attr:`min_num_obs` or if that one is unspecified, as defined in
        :attr:`pyaerocom.const.OBS_MIN_NUM_RESAMPLE`. If None, than 
        :attr:`pyaerocom.const.OBS_APPLY_TIME_RESAMPLE_CONSTRAINTS` is used
        (which defaults to True !!).
    min_num_obs : int or dict, optional
        minimum number of observations for resampling of time
    colocate_time : bool
        if True and if original time resolution of data is higher than desired
        time resolution (`ts_type`), then both datasets are colocated in time 
        *before* resampling to lower resolution. 
    var_keep_outliers : bool
        if True, then no outliers will be removed from dataset to be analysed, 
        even if `remove_outliers` is True. That is because for model evaluation
        often only outliers are supposed to be removed in the observations but
        not in the model.
    var_ref_keep_outliers : bool
        if True, then no outliers will be removed from the reference dataset, 
        even if `remove_outliers` is True.
    **kwargs
        additional keyword args (not used here, but included such that factory 
        class can handle different methods with different inputs)
    
    Returns
    -------
    ColocatedData
        instance of colocated data

</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>pyaerocom.colocateddata.ColocatedData</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_data</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_64_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="The-xarray.DataArray-object-can-be-simply-accessed-via">The <code>xarray.DataArray</code> object can be simply accessed via<a class="anchor-link" href="#The-xarray.DataArray-object-can-be-simply-accessed-via"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_data</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#39;od550aer&#39; (data_source: 2, time: 12, station_name: 290)&gt;
array([[[       nan, 0.11758773,        nan, ...,        nan,
                nan, 0.22213848],
        [       nan, 0.13212825,        nan, ..., 0.12098059,
                nan, 0.4297616 ],
        [       nan, 0.14685542,        nan, ..., 0.12334401,
                nan, 0.91985307],
        ...,
        [0.11797653, 0.11601176,        nan, ..., 0.05336442,
         0.03394842, 0.37093354],
        [0.13223569, 0.19505731,        nan, ...,        nan,
                nan, 0.26176478],
        [       nan,        nan,        nan, ...,        nan,
                nan, 0.37904951]],

       [[0.14947775, 0.14656237, 0.16371733, ..., 0.08020622,
         0.03766838, 0.23015726],
        [0.14588432, 0.2863543 , 0.20080711, ..., 0.11745247,
         0.06611011, 0.46402201],
        [0.19967574, 0.28439081, 0.91542172, ..., 0.13032669,
         0.05874216, 1.46623838],
        ...,
        [0.21575473, 0.23416109, 0.34703311, ..., 0.09446716,
         0.05008808, 0.51150841],
        [0.16433115, 0.19931237, 0.38158169, ..., 0.10818329,
         0.03546635, 0.40573141],
        [0.10476176, 0.13849808, 0.30405122, ..., 0.14951633,
         0.04037524, 0.45553884]]])
Coordinates:
  * data_source   (data_source) &lt;U22 &#39;AeronetSunV3Lev2.daily&#39; &#39;TM5_AP3-CTRL2019&#39;
    var_name      (data_source) &lt;U8 &#39;od550aer&#39; &#39;od550aer&#39;
    var_units     (data_source) &lt;U1 &#39;1&#39; &#39;1&#39;
    ts_type_src   (data_source) &lt;U7 &#39;daily&#39; &#39;monthly&#39;
  * time          (time) datetime64[ns] 2010-01-01 2010-02-01 ... 2010-12-01
  * station_name  (station_name) &lt;U19 &#39;ARM_Darwin&#39; ... &#39;Zinder_Airport&#39;
    latitude      (station_name) float64 -12.43 37.97 15.35 ... 62.45 13.78
    longitude     (station_name) float64 130.9 23.72 -1.479 ... -114.4 8.99
    altitude      (station_name) float64 29.9 130.0 305.0 ... 300.0 220.8 456.0
Attributes:
    data_source:        [&#39;AeronetSunV3Lev2.daily&#39;, &#39;TM5_AP3-CTRL2019&#39;]
    var_name:           [&#39;od550aer&#39;, &#39;od550aer&#39;]
    ts_type:            monthly
    filter_name:        WORLD-wMOUNTAINS
    ts_type_src:        [&#39;daily&#39;, &#39;monthly&#39;]
    start_str:          20100101
    stop_str:           20101231
    var_units:          [&#39;1&#39;, &#39;1&#39;]
    vert_scheme:        None
    data_level:         3
    revision_ref:       20190920
    from_files:         [&#39;aerocom3_TM5_AP3-CTRL2019_od550aer_Column_2010_mont...
    from_files_ref:     None
    stations_ignored:   None
    colocate_time:      False
    apply_constraints:  True
    min_num_obs:        {&#39;yearly&#39;: {&#39;monthly&#39;: 3}, &#39;monthly&#39;: {&#39;daily&#39;: 7}, &#39;...
    outliers_removed:   True
    region:             WORLD
    lon_range:          [-180, 180]
    lat_range:          [-90, 90]
    alt_range:          None</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Save-ColocatedData-object-to-NetCDF">Save <code>ColocatedData</code> object to NetCDF<a class="anchor-link" href="#Save-ColocatedData-object-to-NetCDF"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_data</span><span class="o">.</span><span class="n">savename_aerocom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;od550aer_REF-AeronetSunV3Lev2.daily_MOD-TM5_AP3-CTRL2019_20100101_20101231_monthly_WORLD-wMOUNTAINS&#39;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_data</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="...-and-from-there,-Sara,-Diego,-Anne-et-al.-have-provided-you-with-the-perfect-introduction.">... and from there, Sara, Diego, Anne et al. have provided you with the perfect introduction.<a class="anchor-link" href="#...-and-from-there,-Sara,-Diego,-Anne-et-al.-have-provided-you-with-the-perfect-introduction."> </a></h5>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="High-level-colocation-and-creation-of-colocated-NetCDF-files">High level colocation and creation of colocated NetCDF files<a class="anchor-link" href="#High-level-colocation-and-creation-of-colocated-NetCDF-files"> </a></h3><p>The example above did essentially the following steps:</p>
<ul>
<li>Find a model and variable of interest</li>
<li>Find a corresponding observation network that measures that variable</li>
<li>Load both model and obsdata for this variable into <code>GriddedData</code> and <code>UngriddedData</code>, respectively</li>
<li>Colocate the model to the observation locations and create <code>ColocatedData</code> object</li>
<li>Save the colocated data object as NetCDF file</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>All these steps can be done with a one-liner in pyaerocom using the <code>Colocator</code> class</strong></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Colocate the same model and observation network but now use the Angstrom exponent (ang4487aer) instead of the AOD:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">colocator</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">Colocator</span><span class="p">(</span><span class="n">model_id</span><span class="o">=</span><span class="n">DATA_ID</span><span class="p">,</span>
                          <span class="n">obs_id</span><span class="o">=</span><span class="n">OBS_ID</span><span class="p">,</span>
                          <span class="n">obs_vars</span><span class="o">=</span><span class="s1">&#39;ang4487aer&#39;</span><span class="p">,</span> 
                          <span class="n">ts_type</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">,</span>
                          <span class="n">start</span><span class="o">=</span><span class="mi">2010</span><span class="p">,</span> 
                          <span class="n">basedir_coldata</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span>
                          <span class="n">reanalyse_existing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">save_coldata</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">colocator</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Reading files 1-124 of 1230 (ReadAeronetSunV3) | 00:05:30 (delta = 0 s&#39;)
Reading file 0 of 1230 (ReadAeronetSunV3)
Reading files 124-247 of 1230 (ReadAeronetSunV3) | 00:05:33 (delta = 3 s&#39;)
Reading file 123 of 1230 (ReadAeronetSunV3)
Reading files 247-370 of 1230 (ReadAeronetSunV3) | 00:05:36 (delta = 2 s&#39;)
Reading file 246 of 1230 (ReadAeronetSunV3)
Reading files 370-493 of 1230 (ReadAeronetSunV3) | 00:05:38 (delta = 2 s&#39;)
Reading file 369 of 1230 (ReadAeronetSunV3)
Reading files 493-616 of 1230 (ReadAeronetSunV3) | 00:05:42 (delta = 3 s&#39;)
Reading file 492 of 1230 (ReadAeronetSunV3)
Reading files 616-739 of 1230 (ReadAeronetSunV3) | 00:05:46 (delta = 4 s&#39;)
Reading file 615 of 1230 (ReadAeronetSunV3)
Reading files 739-862 of 1230 (ReadAeronetSunV3) | 00:05:51 (delta = 4 s&#39;)
Reading file 738 of 1230 (ReadAeronetSunV3)
Reading files 862-985 of 1230 (ReadAeronetSunV3) | 00:05:55 (delta = 4 s&#39;)
Reading file 861 of 1230 (ReadAeronetSunV3)
Reading files 985-1108 of 1230 (ReadAeronetSunV3) | 00:05:59 (delta = 4 s&#39;)
Reading file 984 of 1230 (ReadAeronetSunV3)
Reading files 1108-1231 of 1230 (ReadAeronetSunV3) | 00:06:05 (delta = 5 s&#39;)
Reading file 1107 of 1230 (ReadAeronetSunV3)
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>Colocator</code> objects stores all <code>ColocatedData</code> objects that were created in it's <code>data</code> attribute, which is a nested dictionary, organised via <code>model_id</code> and <code>var_name</code>:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">colocator</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;TM5_AP3-CTRL2019&#39;</span><span class="p">][</span><span class="s1">&#39;ang4487aer&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#39;ang4487aer&#39; (data_source: 2, time: 12, station_name: 264)&gt;
array([[[       nan, 1.128966  ,        nan, ...,        nan,
                nan, 0.25999457],
        [       nan, 0.89081575,        nan, ..., 1.12947156,
                nan, 0.30509289],
        [       nan, 1.12122509,        nan, ..., 1.14267986,
                nan, 0.13727079],
        ...,
        [0.97128121, 1.2908889 ,        nan, ..., 1.56412958,
         1.0926709 , 0.39523561],
        [1.34621412, 0.934353  ,        nan, ...,        nan,
                nan, 0.49452866],
        [       nan,        nan,        nan, ...,        nan,
                nan, 0.4892751 ]],

       [[0.86711586, 0.73773724, 0.52013141, ..., 1.39102662,
         1.35547209, 0.62231678],
        [0.98289979, 0.30570188, 0.58608049, ..., 1.23340809,
         1.23590493, 0.44316554],
        [0.57381302, 0.59244061, 0.15318914, ..., 1.31365597,
         1.16984105, 0.19862083],
        ...,
        [0.8841635 , 0.85821074, 1.01289105, ..., 1.36450207,
         1.38448656, 0.95568919],
        [1.28473127, 0.65777272, 0.54912972, ..., 1.26303518,
         1.3864181 , 0.62829041],
        [1.14279449, 0.75016189, 0.47216135, ..., 1.05199301,
         1.37411582, 0.41307265]]])
Coordinates:
  * data_source   (data_source) &lt;U22 &#39;AeronetSunV3Lev2.daily&#39; &#39;TM5_AP3-CTRL2019&#39;
    var_name      (data_source) &lt;U10 &#39;ang4487aer&#39; &#39;ang4487aer&#39;
    var_units     (data_source) &lt;U1 &#39;1&#39; &#39;1&#39;
    ts_type_src   (data_source) &lt;U7 &#39;daily&#39; &#39;monthly&#39;
  * time          (time) datetime64[ns] 2010-01-01 2010-02-01 ... 2010-12-01
  * station_name  (station_name) &lt;U19 &#39;ARM_Darwin&#39; ... &#39;Zinder_Airport&#39;
    latitude      (station_name) float64 -12.43 37.97 15.35 ... 62.45 13.78
    longitude     (station_name) float64 130.9 23.72 -1.479 ... -114.4 8.99
    altitude      (station_name) float64 29.9 130.0 305.0 ... 300.0 220.8 456.0
Attributes:
    data_source:        [&#39;AeronetSunV3Lev2.daily&#39;, &#39;TM5_AP3-CTRL2019&#39;]
    var_name:           [&#39;ang4487aer&#39;, &#39;ang4487aer&#39;]
    ts_type:            monthly
    filter_name:        WORLD-noMOUNTAINS
    ts_type_src:        [&#39;daily&#39;, &#39;monthly&#39;]
    start_str:          20100101
    stop_str:           20101231
    var_units:          [&#39;1&#39;, &#39;1&#39;]
    vert_scheme:        None
    data_level:         3
    revision_ref:       20190920
    from_files:         [&#39;aerocom3_TM5_AP3-CTRL2019_od440aer_Column_2010_mont...
    from_files_ref:     None
    stations_ignored:   None
    colocate_time:      0
    apply_constraints:  1
    outliers_removed:   1
    region:             WORLD
    lon_range:          [-180, 180]
    lat_range:          [-90, 90]
    alt_range:          [-1000000.0, 1000.0]
    _min_num_obs:       yearly,monthly,3;monthly,daily,7;daily,hourly,6;hourl...</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">colocator</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">DATA_ID</span><span class="p">][</span><span class="s1">&#39;ang4487aer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_77_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Do-the-same-for-another-model-(e.g.-CAM5.3-Oslo)">Do the same for another model (e.g. CAM5.3-Oslo)<a class="anchor-link" href="#Do-the-same-for-another-model-(e.g.-CAM5.3-Oslo)"> </a></h5>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pya</span><span class="o">.</span><span class="n">browse_database</span><span class="p">(</span><span class="s1">&#39;*CAM*&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Pyaerocom ReadGridded
---------------------
Data ID: ECMWF-IFS-CY45R1-CAMS-CTRL-met2010_AP3-CTRL
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/ECMWF-IFS-CY45R1-CAMS-CTRL-met2010_AP3-CTRL/renamed
Available experiments: [&#39;AP3-CTRL&#39;]
Available years: [1850, 2010]
Available frequencies [&#39;3hourly&#39; &#39;daily&#39; &#39;monthly&#39;]
Available variables: [&#39;abs550aer&#39;, &#39;clh&#39;, &#39;cll&#39;, &#39;clm&#39;, &#39;clt&#39;, &#39;depbc&#39;, &#39;depdu&#39;, &#39;depoa&#39;, &#39;depso2&#39;, &#39;depso4&#39;, &#39;depss&#39;, &#39;drybc&#39;, &#39;drydu&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;emibc&#39;, &#39;emidu&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiss&#39;, &#39;iwp&#39;, &#39;loadbc&#39;, &#39;loaddu&#39;, &#39;loadlt10du&#39;, &#39;loadlt10ss&#39;, &#39;loadlt1du&#39;, &#39;loadlt1ss&#39;, &#39;loadlt25du&#39;, &#39;loadlt25ss&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;lwp&#39;, &#39;od440aer&#39;, &#39;od550aer&#39;, &#39;od550bc&#39;, &#39;od550du&#39;, &#39;od550lt10du&#39;, &#39;od550lt10ss&#39;, &#39;od550lt1du&#39;, &#39;od550lt1ss&#39;, &#39;od550lt25du&#39;, &#39;od550lt25ss&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od865aer&#39;, &#39;prodso4&#39;, &#39;ps&#39;, &#39;sconcbc&#39;, &#39;sconcdu&#39;, &#39;sconcoa&#39;, &#39;sconcpm1&#39;, &#39;sconcpm10&#39;, &#39;sconcpm25&#39;, &#39;sconcso2&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;wetbc&#39;, &#39;wetdu&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: CAM5-ATRAS_AP3-CTRL
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/CAM5-ATRAS_AP3-CTRL/renamed
Available experiments: [&#39;AP3-CTRL&#39;]
Available years: [1750, 1850, 2010]
Available frequencies [&#39;daily&#39; &#39;monthly&#39;]
Available variables: [&#39;abs440aer&#39;, &#39;abs440bc&#39;, &#39;abs440dryaer&#39;, &#39;abs440dust&#39;, &#39;abs440oc&#39;, &#39;abs550aer&#39;, &#39;abs550bc&#39;, &#39;abs550dryaer&#39;, &#39;abs550dust&#39;, &#39;abs550lt1aer&#39;, &#39;abs550oc&#39;, &#39;abs550rh40aer&#39;, &#39;abs550rh85aer&#39;, &#39;abs870aer&#39;, &#39;abs870bc&#39;, &#39;abs870dust&#39;, &#39;abs870oc&#39;, &#39;absc550aer&#39;, &#39;airmass&#39;, &#39;areacella&#39;, &#39;bldep&#39;, &#39;cdnc&#39;, &#39;cheaqpso4&#39;, &#39;chegpso4&#39;, &#39;chepsoa&#39;, &#39;cli&#39;, &#39;clivi&#39;, &#39;clt&#39;, &#39;clw&#39;, &#39;co&#39;, &#39;convclt&#39;, &#39;dh&#39;, &#39;dms&#39;, &#39;drybc&#39;, &#39;drydust&#39;, &#39;drynh3&#39;, &#39;drynh4&#39;, &#39;drynoy&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec1000dust&#39;, &#39;ec10umdust&#39;, &#39;ec440dryaer&#39;, &#39;ec550aer&#39;, &#39;ec550dryaer&#39;, &#39;ec550dust&#39;, &#39;ec550rh40aer&#39;, &#39;ec550rh85aer&#39;, &#39;emibc&#39;, &#39;emibvoc&#39;, &#39;emico&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emiisop&#39;, &#39;emimtp&#39;, &#39;eminh3&#39;, &#39;eminox&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;emivoc&#39;, &#39;hcho&#39;, &#39;hfls&#39;, &#39;hfss&#39;, &#39;hno3&#39;, &#39;hus&#39;, &#39;isop&#39;, &#39;loadbc&#39;, &#39;loaddms&#39;, &#39;loaddu&#39;, &#39;loadhno3&#39;, &#39;loadlt10du&#39;, &#39;loadlt1du&#39;, &#39;loadlt1ss&#39;, &#39;loadlt25du&#39;, &#39;loadlt25ss&#39;, &#39;loadnh3&#39;, &#39;loadnh4&#39;, &#39;loadno3&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadsoa&#39;, &#39;loadss&#39;, &#39;lwp&#39;, &#39;mmraerh2o&#39;, &#39;mmrbc&#39;, &#39;mmrdust&#39;, &#39;mmrnh4&#39;, &#39;mmrno3&#39;, &#39;mmroa&#39;, &#39;mmrpm1&#39;, &#39;mmrpm10&#39;, &#39;mmrpm2p5&#39;, &#39;mmrso4&#39;, &#39;mmrsoa&#39;, &#39;mmrss&#39;, &#39;mtp&#39;, &#39;nh3&#39;, &#39;od1000dust&#39;, &#39;od10umdust&#39;, &#39;od440aer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550dust&#39;, &#39;od550lt10du&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1du&#39;, &#39;od550lt1ss&#39;, &#39;od550lt2p5du&#39;, &#39;od550lt2p5ss&#39;, &#39;od550no3&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550soa&#39;, &#39;od550ss&#39;, &#39;od870aer&#39;, &#39;orog&#39;, &#39;pfull&#39;, &#39;phalf&#39;, &#39;pr&#39;, &#39;prc&#39;, &#39;ps&#39;, &#39;ptp&#39;, &#39;rh&#39;, &#39;rho&#39;, &#39;rlds&#39;, &#39;rldscs&#39;, &#39;rlus&#39;, &#39;rluscs&#39;, &#39;rlut&#39;, &#39;rlutca&#39;, &#39;rlutcs&#39;, &#39;rlutcsca&#39;, &#39;rsds&#39;, &#39;rsdscs&#39;, &#39;rsdt&#39;, &#39;rsus&#39;, &#39;rsut&#39;, &#39;rsutca&#39;, &#39;rsutcs&#39;, &#39;rsutcsca&#39;, &#39;sftlf&#39;, &#39;so2&#39;, &#39;ta&#39;, &#39;tas&#39;, &#39;tos&#39;, &#39;ts&#39;, &#39;ua&#39;, &#39;va&#39;, &#39;wa&#39;, &#39;wetbc&#39;, &#39;wetdust&#39;, &#39;wetnh3&#39;, &#39;wetnh4&#39;, &#39;wetnoy&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;, &#39;ztp&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: ECMWF_CAMS_REAN
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/ECMWF_CAMS_REAN/renamed
Available experiments: [&#39;REAN&#39;]
Available years: [2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018]
Available frequencies [&#39;daily&#39;]
Available variables: [&#39;ang4487aer&#39;, &#39;od550aer&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: CAM5-ATRAS_AP3-HIST
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/CAM5-ATRAS_AP3-HIST/renamed
Available experiments: [&#39;AP3-HIST&#39;]
Available years: [1750, 1850, 1860, 1870, 1880, 1890, 1900, 1910, 1920, 1930, 1940, 1950, 1960, 1970, 1980, 1985, 1990, 1995, 2000, 2005, 2010, 2015]
Available frequencies [&#39;monthly&#39; &#39;daily&#39;]
Available variables: [&#39;abs550aer&#39;, &#39;abs550dryaer&#39;, &#39;airmass&#39;, &#39;chepsoa&#39;, &#39;clt&#39;, &#39;dh&#39;, &#39;drybc&#39;, &#39;drydust&#39;, &#39;drynh3&#39;, &#39;drynh4&#39;, &#39;drynoy&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec550dryaer&#39;, &#39;emibc&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;eminh3&#39;, &#39;eminox&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;loadbc&#39;, &#39;loaddms&#39;, &#39;loaddu&#39;, &#39;loadhno3&#39;, &#39;loadlt1du&#39;, &#39;loadlt1ss&#39;, &#39;loadlt25du&#39;, &#39;loadlt25ss&#39;, &#39;loadnh3&#39;, &#39;loadnh4&#39;, &#39;loadno3&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadsoa&#39;, &#39;loadss&#39;, &#39;mmraerh2o&#39;, &#39;mmrbc&#39;, &#39;mmrdust&#39;, &#39;mmrnh4&#39;, &#39;mmrno3&#39;, &#39;mmroa&#39;, &#39;mmrpm1&#39;, &#39;mmrpm10&#39;, &#39;mmrpm2p5&#39;, &#39;mmrso4&#39;, &#39;mmrsoa&#39;, &#39;mmrss&#39;, &#39;od440aer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550dust&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1du&#39;, &#39;od550lt1ss&#39;, &#39;od550lt2p5du&#39;, &#39;od550lt2p5ss&#39;, &#39;od550no3&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550soa&#39;, &#39;od550ss&#39;, &#39;od870aer&#39;, &#39;pfull&#39;, &#39;rh&#39;, &#39;rsds&#39;, &#39;rsus&#39;, &#39;rsut&#39;, &#39;rsutca&#39;, &#39;rsutcs&#39;, &#39;rsutcsca&#39;, &#39;so2&#39;, &#39;wetbc&#39;, &#39;wetdust&#39;, &#39;wetnh3&#39;, &#39;wetnh4&#39;, &#39;wetnoy&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED/renamed
Available experiments: [&#39;UNTUNED&#39;]
Available years: [2008, 2009, 2010]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs550aer&#39;, &#39;abs550aercs&#39;, &#39;ang4487aer&#39;, &#39;ang4487csaer&#39;, &#39;od550aer&#39;, &#39;od550csaer&#39;, &#39;od550lt1aer&#39;]

Pyaerocom ReadGridded
---------------------
Data ID: CAM6-Oslo_NHIST_f19_tn14_20190710_2010
Data directory: /home/notebook/shared-ns1000k/inputs/pyaerocom-testdata/modeldata/CAM6-Oslo_NHIST_f19_tn14_20190710_2010/renamed
Available experiments: [&#39;20190710&#39;]
Available years: [2010]
Available frequencies [&#39;monthly&#39;]
Available variables: [&#39;abs440aer&#39;, &#39;abs500aer&#39;, &#39;abs550aer&#39;, &#39;abs550aercs&#39;, &#39;abs550bc&#39;, &#39;abs550dryaer&#39;, &#39;abs550dust&#39;, &#39;abs550oa&#39;, &#39;abs550so4&#39;, &#39;abs550ss&#39;, &#39;abs670aer&#39;, &#39;abs870aer&#39;, &#39;absc550aer&#39;, &#39;airmass&#39;, &#39;area&#39;, &#39;asy3Daer&#39;, &#39;bc5503Daer&#39;, &#39;cheaqpso4&#39;, &#39;chegpso4&#39;, &#39;chepso2&#39;, &#39;cl3D&#39;, &#39;clt&#39;, &#39;drybc&#39;, &#39;drydms&#39;, &#39;drydust&#39;, &#39;dryoa&#39;, &#39;dryso2&#39;, &#39;dryso4&#39;, &#39;dryss&#39;, &#39;ec550aer&#39;, &#39;ec550dryaer&#39;, &#39;emibc&#39;, &#39;emidms&#39;, &#39;emidust&#39;, &#39;emioa&#39;, &#39;emiso2&#39;, &#39;emiso4&#39;, &#39;emiss&#39;, &#39;hus&#39;, &#39;landf&#39;, &#39;loadbc&#39;, &#39;loaddms&#39;, &#39;loaddust&#39;, &#39;loadoa&#39;, &#39;loadso2&#39;, &#39;loadso4&#39;, &#39;loadss&#39;, &#39;mmraerh2o&#39;, &#39;mmrbc&#39;, &#39;mmrdu&#39;, &#39;mmroa&#39;, &#39;mmrso4&#39;, &#39;mmrss&#39;, &#39;od440aer&#39;, &#39;od440csaer&#39;, &#39;od500aer&#39;, &#39;od550aer&#39;, &#39;od550aerh2o&#39;, &#39;od550bc&#39;, &#39;od550csaer&#39;, &#39;od550dust&#39;, &#39;od550gt1aer&#39;, &#39;od550lt1aer&#39;, &#39;od550lt1dust&#39;, &#39;od550oa&#39;, &#39;od550so4&#39;, &#39;od550ss&#39;, &#39;od670aer&#39;, &#39;od870aer&#39;, &#39;od870csaer&#39;, &#39;orog&#39;, &#39;precip&#39;, &#39;pressure&#39;, &#39;ps&#39;, &#39;rlds&#39;, &#39;rlus&#39;, &#39;rlut&#39;, &#39;rlutcs&#39;, &#39;rsds&#39;, &#39;rsdscs&#39;, &#39;rsdt&#39;, &#39;rsus&#39;, &#39;rsut&#39;, &#39;sconcbc&#39;, &#39;sconcdms&#39;, &#39;sconcdust&#39;, &#39;sconcoa&#39;, &#39;sconcso2&#39;, &#39;sconcso4&#39;, &#39;sconcss&#39;, &#39;temp&#39;, &#39;vmrdms&#39;, &#39;vmrso2&#39;, &#39;wetbc&#39;, &#39;wetdms&#39;, &#39;wetdust&#39;, &#39;wetoa&#39;, &#39;wetso2&#39;, &#39;wetso4&#39;, &#39;wetss&#39;]
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ANOTHER_MODEL_ID</span> <span class="o">=</span> <span class="s1">&#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">colocator</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">model_id</span><span class="o">=</span><span class="n">ANOTHER_MODEL_ID</span><span class="p">)</span>
<span class="n">colocator</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>dict_keys([&#39;TM5_AP3-CTRL2019&#39;, &#39;CAM53-Oslo_7310_MG15CLM45_5feb2017IHK_53OSLO_PD_UNTUNED&#39;])</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">colocator</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">ANOTHER_MODEL_ID</span><span class="p">][</span><span class="s1">&#39;ang4487aer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_82_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Usage-example:-Compute-AOD-bias-and-plot-bias-map">Usage example: Compute AOD bias and plot bias map<a class="anchor-link" href="#Usage-example:-Compute-AOD-bias-and-plot-bias-map"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_arr</span> <span class="o">=</span> <span class="n">col_data</span><span class="o">.</span><span class="n">data</span>
<span class="n">mean_bias</span> <span class="o">=</span> <span class="p">((</span><span class="n">_arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">_arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="n">_arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span> <span class="c1">#%</span>
<span class="n">mean_bias</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#39;od550aer&#39; (station_name: 290)&gt;
array([ 3.27914642e+01,  4.41977593e+01, -2.38407751e+01, -2.20405471e+01,
        4.87610882e+01, -1.09660243e+01,  6.09572635e+01,  6.95185320e+01,
        5.72888842e+01,  2.02739190e+00, -5.72097325e+01,  1.47671090e+01,
        4.29767724e+01,  4.29703426e+01, -3.04770598e+00,  3.25237489e+01,
        3.04941723e+01, -3.50740249e+01, -2.67254451e+00,  7.03229780e+01,
       -1.73058152e+01, -2.54449063e+01,  1.17741062e+01, -3.34088968e+00,
        5.11034734e+01, -5.49587609e+01,  3.12364125e+01,  1.41865023e+01,
        9.79946795e+00,  4.29076415e+01,  2.00427413e+02,  3.11295196e+01,
        1.25609668e+01, -2.99052611e+00,  3.79720939e+01,  4.11353824e+01,
        3.36367237e+01, -1.87316612e+01,  5.71903871e+00, -3.12985326e+01,
        9.64239738e+00,  3.87242518e+01,  3.28465450e+01, -1.34600998e+01,
        1.13944697e+02, -5.74046714e+00, -2.21200918e+01, -1.68933975e+01,
        2.14213839e+01, -1.57128817e+00,  1.63393518e+01,  3.03617771e+01,
       -3.66373152e+01, -2.29289206e+01,  3.80195940e+00,  2.28771411e+01,
        5.02988951e+01, -8.47645363e+00, -2.92246798e-02,  1.99113391e+01,
        2.85090981e+01,  1.02081703e+02, -3.32672024e+01, -2.61841440e+01,
        1.02246696e+01,  3.35796759e+01,  2.47245469e+01,  3.40265035e+00,
        4.58925360e+01,  4.16583949e+01, -2.69435038e+01, -1.98879423e+01,
       -2.25045093e+01, -2.61745328e+01, -2.19739435e+01, -3.29913089e+01,
       -2.35682266e+01, -2.66573040e+01, -3.18505908e+01, -1.84119126e+01,
       -2.15963517e+01, -3.09848055e+01, -1.06080074e+01, -1.25179840e+01,
        8.36437743e+01, -1.72089120e+01,  1.10724291e+02,  1.86954451e+01,
       -3.52485746e+00,  2.26953688e+01, -1.31471950e+01, -2.58177183e+01,
        3.19353929e+00,  1.67985095e+02,  2.15939248e+03,  2.48500492e+01,
        2.09847766e+01,  2.98324464e+01,  3.56604135e+00,  1.34239937e+01,
        8.50623273e+00,  4.48262894e+01,  2.34873722e+01,  5.06346266e+01,
        2.74506461e+01,  7.61382986e+01, -3.28731649e+01,  4.07660799e+01,
        2.27447667e+01,  9.10353067e+01,  1.21278828e+01,  3.72121519e+01,
        2.83294548e+01,  9.78441851e+00, -4.73056445e+01,  2.79024380e+01,
        5.35009477e+01,  5.91444655e+01,  4.79116057e+00,  7.44237999e+01,
        2.68128184e+01,  3.43649449e+01, -1.62632855e+01,  1.30548675e+01,
        6.61681390e+00, -3.00923781e+01,  2.23825834e+01,  2.76474665e+01,
        4.34143410e+01, -2.69770526e+01, -5.00112156e-01,  8.53502032e+01,
        2.87528003e+00, -4.53577189e+01,  2.41361076e+01,  4.31485335e+01,
       -2.39311000e+01,  1.25558526e+02,  4.14590368e+01,  3.16795086e+02,
        2.92134127e+01,  1.80532386e+00,  1.70037355e+01,  1.62844145e+01,
        4.42332748e+00, -1.34480446e+01,  8.70741225e+01, -2.57484589e+01,
       -1.49912499e+01,  2.98588810e+01,  1.59062183e+01,  1.03563362e+01,
        2.72479298e+01,  3.76470196e+01, -3.95993626e+01,  1.21604190e+01,
        5.86778380e+00,  3.10902325e+01,  1.05128068e+01, -4.00757249e+00,
        4.05601341e+00, -3.14303075e+01,  8.17878429e+01,  4.30353716e+01,
        6.44585924e+01, -1.27336460e+01,  4.54585568e+00,  2.35222980e+01,
        4.67379278e+02, -8.97091250e+00,  1.80895809e+01,  5.12300032e+00,
        3.14730287e+00, -2.68587539e+01,  2.66964067e+01,  4.73865279e+01,
        8.04935946e+02,  4.17767451e+01, -4.21336847e+01, -9.07905949e-01,
        7.66013358e+01,  8.37915206e+01,  2.13665125e+01,  1.85619169e+01,
       -1.89324207e+01,  3.32072539e+01, -1.75130819e+01,  2.18796414e+01,
        1.97294485e+01,  1.16031417e+01, -1.80260862e+01,  1.06872806e+00,
        2.50877329e+02,  1.86854932e-01, -6.29763143e+01,  7.34409702e+01,
       -2.42201841e+01,  2.04096214e+01,  2.84237510e+02, -2.83174167e+01,
        2.75985008e-01, -1.77013012e+00,  9.33123068e+01,  8.96354615e+01,
        1.16009139e+01,  5.89801647e+00,  3.53473407e+01,  2.40858232e+00,
        5.26359199e-01,  1.39417708e+01, -9.18728962e+00, -2.89676009e+01,
        2.11628891e+01, -4.27510894e+01,  5.47806817e+01,  1.11179355e+01,
        1.60639161e+02,  5.36604379e+01,  1.41343458e+01,  7.29047268e+01,
        1.16645319e+02,  1.07994446e+00,  2.86391474e+01, -6.17067746e+00,
        3.15634790e+01,  9.71369792e+00, -4.73990236e+01,  2.01213515e+01,
        1.50614483e+01, -2.92210408e+01,  8.26026117e+01, -9.81651091e+00,
        2.18821079e+01,  4.22057093e+01, -1.68488604e+01,  3.47089193e+01,
        3.79152838e+01,  7.39133554e+01,  3.63400929e+00,  6.77855757e+01,
       -2.33014879e+01, -4.99106302e+01,  4.25943052e+01,  3.12377925e+00,
       -2.27771852e+01, -1.20066272e+01, -2.66136810e+01,  7.31645234e+01,
        1.52243559e+02,  3.19089141e+01,  2.96238395e+01,  8.33273265e+00,
       -1.91530812e+01, -1.87918140e+01,  3.24915367e+01,  4.61579198e+01,
       -4.67132468e+00,  1.50885510e+01, -1.13247846e+01,  7.83158893e+00,
        4.29157881e+01,  3.62139244e+01,  2.62529907e+01,  4.16605716e+01,
        1.65626661e+01,  4.09422433e+01,  2.31975416e+01,  1.07226551e+02,
        1.58904995e+01,  1.37649886e+01,  5.04940170e+00, -2.76175068e+01,
        7.44272366e+00,  5.05170565e+01,  1.01163561e+02,  2.09883399e+01,
        1.00184819e+01, -2.85436142e+01,  2.31967797e+01,  4.90043152e+00,
        1.17823575e+02,  6.87338294e+01, -2.43874895e+01,  7.69502307e+00,
        4.11403093e+01,  1.09082297e+02,  2.00864470e+01,  1.99950303e+01,
        3.62194452e+01,  1.41876019e+01])
Coordinates:
    var_name      &lt;U8 &#39;od550aer&#39;
    var_units     &lt;U1 &#39;1&#39;
  * station_name  (station_name) &lt;U19 &#39;ARM_Darwin&#39; ... &#39;Zinder_Airport&#39;
    latitude      (station_name) float64 -12.43 37.97 15.35 ... 62.45 13.78
    longitude     (station_name) float64 130.9 23.72 -1.479 ... -114.4 8.99
    altitude      (station_name) float64 29.9 130.0 305.0 ... 300.0 220.8 456.0
    data_source   &lt;U22 &#39;AeronetSunV3Lev2.daily&#39;
    ts_type_src   &lt;U7 &#39;daily&#39;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">init_map</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_85_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">pya</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">mapping</span><span class="o">.</span><span class="n">init_map</span><span class="p">()</span>
<span class="n">_sc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">mean_bias</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="n">mean_bias</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">mean_bias</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> 
                 <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;bwr&#39;</span><span class="p">,</span> 
                 <span class="n">vmin</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="n">cb</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">_sc</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Normalised mean bias [%]&#39;</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../../images/training/pyaerocom/jgliss_intro_model_evaluation_pyaerocom_86_0.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Now-if-you-colocate-a-lot-of-models-against-multiple-different-observations,-you-might-end-up-here:">Now if you colocate a lot of models against multiple different observations, you might end up here:<a class="anchor-link" href="#Now-if-you-colocate-a-lot-of-models-against-multiple-different-observations,-you-might-end-up-here:"> </a></h3><p><a href="https://aerocom-evaluation.met.no/overall.php?project=aerocom&amp;exp=PIII-optics2019">https://aerocom-evaluation.met.no/overall.php?project=aerocom&amp;exp=PIII-optics2019</a></p>

</div>
</div>
</div>
</div>

 


    </main>
    
            </div>
            <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/NEGI-Abisko-2019/training/pyaerocom/intro.html">
       <span class="u-margin-right-tiny"></span> Pyaerocom
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="/NEGI-Abisko-2019/training/pyaerocom/example_ebas_read.html">
      pyaerocom EBAS example <span class="u-margin-right-tiny"></span> 
    </a>
  
</nav>

            <footer>
  <p class="footer">This page was created by <a href="https://github.com/jupyter/jupyter-book/graphs/contributors">The Jupyter Book Community</a></p>
</footer>

        </div>
      </main>
    </div>
  </body>
</html>
